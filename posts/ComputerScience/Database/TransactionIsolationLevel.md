|작성일|수정일|
|:----|:----|
|2021-07-11|2021-07-11|

--------

## 1. Transaction Isolation Level 트랜잭션 격리수준

트랜잭션 격리수준은 트랜잭션 내에서 변경된 데이터를 볼 수 있도록 허용할지 말지를 정하게 해준다.    
격리수준에는 4가지가 있다.    

### 1-1. Read Uncommitted

가장 낮은 수준의 격리수준으로, 일반적인 곳에서는 거의 사용하지 않는 수준이다.    
트랜잭션 내에서 데이터가 변경될 경우 커밋까지 완료되어야 트랜잭션이 끝나게 되는데, Read Uncomitted는 커밋되지 않았음에도 다른 트랜잭션이 읽는 것을 허용한다.    

그래서 트랜잭션 A가 데이터 변경 후 아직 커밋되지 않았음에도 트랜잭션 B는 A가 번경한 내용을 읽어오게된다.    
커밋되지 않은 데이터이기 때문에 디스크가 아닌 버퍼풀에 있는 내용을 읽어오고, 이런 현상을 *Dirty Read*라고 한다.    
만약 트랜잭션 A가 잘못되어서 롤백을 하게된다면 트랜잭션 B가 이전에 읽은 쿼리문을 똑같이 사용하더라도 내용이 변경된다.

Read Uncommitted의 경우 데이터의 일관성을 유지할 수 없다.    


### 1-2. Read Committed

오라클에서의 기본 격리 수준으로, 커밋이 완료된 데이터만 조회할 수 있는 수준이다.    
커밋이 완료된 데이터를 읽어오기 때문에 언두로그에서 데이터를 읽어오며, 


SELECT 문장이 수행되는 동안 해당 데이터에 Shared Lock이 걸리는 Level
트랜잭션이 수행되는 동안 다른 트랜잭션이 접근할 수 없어 대기하게 된다.
Commit이 이루어진 트랜잭션만 조회할 수 있다.
따라서, 어떤 사용자가 A라는 데이터를 B라는 데이터로 변경하는 동안 다른 사용자는 해당 데이터에 접근할 수 없다.
SQL Server가 Default로 사용하는 Isolation Level
Repeatable Read (레벨 2)
트랜잭션이 완료될 때까지 SELECT 문장이 사용하는 모든 데이터에 Shared Lock이 걸리는 Level
트랜잭션이 범위 내에서 조회한 데이터의 내용이 항상 동일함을 보장한다.
따라서, 다른 사용자는 그 영역에 해당되는 데이터에 대한 수정이 불가능하다.
Serializable (레벨 3)
트랜잭션이 완료될 때까지 SELECT 문장이 사용하는 모든 데이터에 Shared Lock이 걸리는 Level
완벽한 읽기 일관성 모드를 제공한다.
따라서, 다른 사용자는 그 영역에 해당되는 데이터에 대한 수정 및 입력이 불가능하다.
Isolation level 조정은 동시성이 증가되는데 반해 데이터 무결성에 문제가 발생할 수 있고, 데이터의 무결성을 유지하는 데 반해 동시성이 떨어질 수 있다.
