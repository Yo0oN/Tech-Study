---
created: 2020-03-19
modified: 2020-03-19
tags: [OS, OperationSystem]
title: ThreadAndProcess
author: Yo0oN
categories: [OperationSystem]
---

## 1. Process

***Process*** 프로세스는 *메모리에 올라가 실행중인 프로그램*을 의미한다. 간단하게 말하면 지금 실행중인 프로그램을 말한다.    

프로그램이 메모리에 올라가 프로세스가 되면 두개의 영역을 할당받는데, 하나는 PCB(Process Control Block)이고 다른 하나는 프로세스 주소공간이다.    
그리고, 프로세스가 하나 생성되면 하나의 스레드가 기본적으로 생성되어 작업을 시작하게 된다.

### 1-1. PCB (Process Control Block)

PCB의 경우 현재 프로세스의 상태나 다음에 실행 될 명령어의 주소가 어디인지(주소 레지스터) 등 프로세스에 대한 정보가 담겨있다.    

### 1-2. 프로세스 주소공간

주소공간의 경우 내부적으로 *Code*, *Heap*, *Data*, *Stack* 영역으로 나뉜다.    

- Code : 컴파일 된 바이트코드가 담겨져 있는 공간
- Data : 전역변수가 담겨있는 공간
- Heap : 동적할당시 사용
- Stack : 지역변수나 매개변수같이 잠시 사용되었다 사라지는 것들이 담기는 공간

네가지로 구분되어 있는데, 네가지 중 Stack은 스레드별로 할당받고, 나머지는 모든 스레드가 공유하며 사용하게 된다.    


### 1-3. 멀티프로세스

멀티프로세스는 하나의 컴퓨터에 여러 프로세스가 동작하여 병렬적으로 작업을 처리하는 방식을 말한다.    

프로세스를 여러개 띄워서 작동하기 때문에 각 메모리가 독립된 영역을 가지고 있다는 장점이 있기도 하지만, Context Switching시 오히려 성능이 저하될 수도 있다는 단점이 있다.    


## 2. Thread

스레드는 *하나의 프로세스 내에서 두가지 이상의 흐름을 가지고 싶을 때 사용하는 것*이다.    

그래서 프로세스 내부에서 동작하게되는데, 프로세스 주소공간 중 Code, Data, Heap 영역은 공유하지만 Stack 영역은 공유하지 않는다.    

### 2-1. 멀티스레드

멀티스레드는 하나의 프로세스 내에서 여러 스레드들이 작업하는 것을 말한다.    

멀티프로세스와는 다르게 하나의 프로세스 내에서 여러 스레드들이 작동하기 때문에 Stack을 제외한 나머지 자원을 공유할 수 있다는 장점이 있다.    
대신 자원을 공유하기 때문에 공유 자원에 동시에 접근해서 발생하는 문제들이 있어 동기화를 통해 접근을 제한해주어야 한다.
