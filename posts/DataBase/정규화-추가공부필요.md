# 정규화?

 ` 데이터를 효율적으로 관리하기 위해 데이터를 분해하는 과정.`

만약 데이터를 분해하지 않는다면 여러 단점이 있다.<br>
예를들어 테이블 A, B, C에 똑같이 들어있는 데이터가 있다. 데이터의 수정하려면 해당 데이터가 있는 모든 테이블들을 수정해야하고, 사람이 개발하는 이상 실수를 해서 테이블 한두개쯤은 빼먹게될 수도 있다.<br>
이럴경우 일부만 수정되어 정확한 값을 보장받을 수 없다.<br>
이 외에도 삽입할 때 의도와 다른 값들이 삽입되는 삽입이상, 삭제 시 다른 값들도 연쇄적으로 삭제되는 삭제이상 등이 있다.

정규화에는 총 6가지 정규화가 있는데, 아래의 데이터를 차례로 수정하며 공부해보자.

![image](https://user-images.githubusercontent.com/53729311/112869810-87d36780-90f8-11eb-9fd4-abc77df200eb.png)


<br>

## 1. 제 1 정규화

*Atomic. 도메인 원자값 - 하나의 속성이 복수개의 값을 가지고 있을 때 하나의 속성이 단일 값을 가지도록 설계해야 한다.*<br>
> 도메인? 하나의 컬럼이 가진 범위. 예를들어 전화번호 컬럼은 전화번호만 가지고 있어야 하고, 다른 값을 가지고 있으면 안된다. 이런 범위를 *도메인*이라 한다.<br>
도메인이 원자값이라는 것은 하나의 컬럼에 들어가는 값이 그 범위에 속하면서도, 더이상 쪼갤 수 없는 단위가 되어야 한다는 뜻이다.

그런데 원자값으로 쪼개다 보면 이름이나, 생년월일 같은 것들은 쪼개다보면 성과 이름, 년, 월, 일로 더 쪼갤 수 있다.<br>
그래서 원자값이라는 뜻이 애매하기 때문에 실제로 설계할 때는 원자값보다는 행과 열이 만나는 부분에는 하나의 값만 들어가고, 하나의 컬럼에는 중복값이 없도록 설계한다고 한다.

![image](https://user-images.githubusercontent.com/53729311/112869810-87d36780-90f8-11eb-9fd4-abc77df200eb.png)

위의 그림에서는 두개 이상의 과목을 듣는 학생이 있다. 과목 컬럼의 두개 이상의 값들이 들어간 곳이 있으니 이를 쪼개주자.

![image](https://user-images.githubusercontent.com/53729311/112870400-21027e00-90f9-11eb-8fe8-f1baa2d1e56d.png)



제 1 정규화에 따라 나뉜 모습이다. 왼쪽 테이블에는 학생에 대한 정보를, 오른쪽 테이블에는 해당 학생이 들은 과목을 넣었다.<br>
오른쪽 테이블은 학번을 이용하여 어떤 학생이 수강한 수업인지 알 수 있게 정리되었다. 하지만, 학번만으로는 수강한 과목을 모두 구분할 수 없기 때문에 학년도 함께 넣어주어 확실하게 구분할 수 있도록 하였다.
(혹시라도 재수강하게 된다면 이후에 같은 내용이 또 들어갈테니 수강했을 때의 학년 컬럼을 추가로 넣어주었다.)

제 1 정규화를 통해 오른쪽 테이블은 학번과 학년으로 행을 구분시키고 양쪽 테이블 모두 한 칸에 하나의 값만 들어가도록 해주었다.


## 2. 제 2 정규화

*키가 아닌 모든 속성들은 모두 기본키에 종속되어야 한다.*

위에서 두개의 테이블로 분리해주었는데, 오른쪽의 수강 과목 테이블을 보면 학번과 학년을 기준으로 어떤 수업을 들었는지 알 수 있다.<br>
여기서 학번이 기본키, 과목과 성적은 학번에 종속되어 있는 값들이다. 그 외에 교수, 책과 같은 데이터들은 학생별로 변하는 데이터가 아니고, 학번에 종속되지는 않는다.

그러면 다시 학번이라는 키에 종속되는 값과 아닌 값들을 분리해보자.

![image](https://user-images.githubusercontent.com/53729311/112869062-b43ab400-90f7-11eb-8912-3ab0cea90085.png)

이제 테이블을 두개로 나눠서 수강한과목 테이블의 값들은 학번에, 과목 테이블의 값들은 과목에 종속되도록 해서 제 2 정규화를 해주었다.


## 3. 제 3 정규화
